# Predefined Functions:
# ADD(PARAMS), MULTIPLY(PARAMS), INT_FLOOR(PARAM0), RETURN(PARAM0)

SKILL_EXECUTION_TYPE_LIST=[ACTIVE,PASSIVE,]

SKILL_ARCHANGEL_RESURRECTION={
	EXECUTION=ACTIVE,
	EXECUTION_WHEN=AFTER_USER_SELECTION,
	CHANNELLING=INSTANT,
	DURATION=PERMANENT,
	TARGET_TYPE=FRIENDLY_SINGLE,
	TARGET_COUNT=1,
	BLACKLIST_TARGET_LIST=[UNDEAD,NONLIVING,ELEMENTAL,MACHINE],
	MODIFIER={
		MODIFING_ON_VALUE_TYPE=HP,
		VALUE_FUNCTION=MULTIPLY,
		VALUE_FUNCTION_PARAMETER_LIST=[100,STACK_NUMBER],
	},
}
SKILL_ARCHANGEL_HATRED={
	EXECUTION=PASSIVE,
	EXECUTION_WHEN=WHOLE_BATTLE,
	CHANNELLING=NO,
	DURATION=BATTLE,
	TARGET_TYPE=ENEMY_BY_TYPE,
	TARGET_LIST=[DEVIL,ARCHDEVIL],
	MODIFIER={
		MODIFING_ON_VALUE_TYPE=DAMAGE,
		VALUE_FUNCTION=ADD,
		VALUE_FUNCTION_PARAMETER_LIST=[1.5,MODIFING_ON_VALUE_TYPE],
	},
}
SKILL_ARCHANGEL_MORALE_BOOST={
	EXECUTION=PASSIVE,
	EXECUTION_WHEN=WHOLE_BATTLE,
	CHANNELLING=NO,
	DURATION=BATTLE,
	TARGET_TYPE=FRIENDLY_ALL,
	BLACKLIST_TARGET_LIST=[UNDEAD,NONLIVING,ELEMENTAL,MACHINE],
	MODIFIER={
		MODIFING_ON_VALUE_TYPE=MORALE,
		VALUE_FUNCTION=ADD,
		VALUE_FUNCTION_PARAMETER_LIST=[1,MODIFING_ON_VALUE_TYPE],
	},
}
SKILL_PHOENIX_REBIRTH={
	EXECUTION=PASSIVE,
	EXECUTION_WHEN=AFTER_DEATH,
	CHANNELLING=NO,
	DURATION=PERMANENT,
	TARGET_TYPE=SELF,
	MODIFIER={
		MODIFING_ON_VALUE_TYPE=STACK_NUMBER,
		VALUE_FUNCTION=FUNC_PHOENIX_REBIRTH,
		VALUE_FUNCTION_PARAMETER=0.2,
	}
}
SKILL_MAGIC_RESISTENCE={
	EXECUTION=PASSIVE_BEFORE_HIT_BY_MAGIC,
	EXECUTION_WHEN=BEFORE_HIT_BY,
	EXECUTION_WHEN_PARAMETER=MAGIC,
	EXECUTION_FUNCTION_PARAMETER=INCOMING_MAGIC_TYPE,
	CHANNELLING=NO,
	DURATION=BATTLE,
	TARGET_TYPE=SELF,
	TARGET_LIST=[ALL_MAGIC], # DEFAULT
	MODIFIER={
		MODIFING_ON_VALUE_TYPE=DAMAGE,
		VALUE_FUNCTION=FUNC_MAGIC_RESISTENCE,
		VALUE_FUNCTION_PARAMETER=0,
	}
}


FUNC_MAGIC_RESISTENCE={
	IF(CONTAINS(TARGET_LIST,EXECUTION_FUNCTION_PARAMETER))
	{
		RETURN(PARAM0*MODIFING_ON_VALUE_TYPE)
	}
	RETURN(MODIFING_ON_VALUE_TYPE)
}
FUNC_MULTIPLY_BY_STACK_NUMBER={
	RETURN(MULTIPLY(PARAM0,STACK_NUMBER))
}
FUNC_PHOENIX_REBIRTH={
	RETURN(INT_FLOOR(PARAM0*STACK_NUMBER)+RAND01(PARAM0*STACK_NUMBER))
}